# MomentTrace - 朋友圈分析助手 PRD

## 1. 产品概述

### 1.1 产品名称
MomentTrace（朋友圈印迹）

### 1.2 产品定位
一款基于 AI 的 H5 网页应用，通过分析目标对象的朋友圈截图，帮助用户深入了解对方的性格、兴趣、生活方式等特征，为用户提供社交建议，助力建立浪漫关系。

### 1.3 目标用户
- 希望深入了解心仪对象的单身男女
- 想要改善与潜在对象沟通方式的用户
- 对社交心理学感兴趣的年轻群体

### 1.4 核心价值
通过 AI 智能分析，帮助用户：
- 快速了解目标对象的性格特点
- 发现共同话题和兴趣点
- 获取针对性的追求建议和沟通策略

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 图片上传模块
- **最少上传数量**：5 张朋友圈截图
- **最多上传数量**：20 张（建议）
- **支持格式**：JPG、PNG、WEBP
- **单张大小限制**：10MB
- **上传方式**：
  - 点击上传
  - 拖拽上传
  - 粘贴上传
- **预览功能**：上传后可预览、删除、重新排序

#### 2.1.2 AI 分析模块
- **使用模型**：豆包大模型 doubao-seed-1.6-thinking
- **OCR 识别**：支持识别朋友圈截图中的文字内容（发布文案、评论、时间等）
- **分析维度**：
  - 性格特征分析（外向/内向、理性/感性等）
  - 兴趣爱好识别（旅行、美食、运动、阅读等）
  - 生活方式判断（作息、消费习惯、社交圈等）
  - 情感状态推测（单身可能性、情感需求等）
  - 价值观倾向（事业型、家庭型、享乐型等）
  - 语言风格分析（基于 OCR 提取的文字内容）

#### 2.1.3 报告生成模块
- **人物画像**：生成目标对象的综合画像
- **匹配建议**：分析用户与对方的潜在契合点
- **追求策略**：
  - 推荐话题（根据对方兴趣）
  - 约会建议（根据对方生活方式）
  - 沟通技巧（根据对方性格）
  - 注意事项（可能的雷区）
- **开场白生成**：提供多种风格的开场白模板

### 2.2 辅助功能

#### 2.2.1 用户引导
- 首次使用引导教程
- 上传示例和最佳实践提示
- 隐私保护说明

#### 2.2.2 结果展示
- 可视化性格雷达图
- 分析报告支持复制/分享
- 历史分析记录（本地存储）

---

## 3. 技术方案

### 3.1 技术栈
- **前端框架**：原生 HTML5 + CSS3 + JavaScript
- **UI 框架**：Tailwind CSS
- **视觉风格**：高级感（深色主题、精致排版、优雅动效）
- **图片处理**：浏览器端压缩
- **AI 接口**：豆包大模型 API
- **后端框架**：Node.js + Express（用于保护 API Key）

### 3.2 豆包大模型 API 集成

#### 3.2.1 API 信息
- **模型**：doubao-seed-1.6-thinking
- **Base URL**：`https://ark.cn-beijing.volces.com/api/v3`
- **兼容**：OpenAI SDK 格式

#### 3.2.2 调用示例
```javascript
// 使用 fetch 调用
const response = await fetch('https://ark.cn-beijing.volces.com/api/v3/chat/completions', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${API_KEY}`
  },
  body: JSON.stringify({
    model: 'your-endpoint-id', // 推理接入点 ID
    messages: [
      {
        role: 'system',
        content: '你是一位专业的社交心理分析师...'
      },
      {
        role: 'user',
        content: [
          { type: 'text', text: '请分析以下朋友圈截图...' },
          { type: 'image_url', url: 'base64://...' }
        ]
      }
    ]
  })
});
```

### 3.3 架构设计
```
┌─────────────────────────────────────────────┐
│                  H5 前端                     │
├─────────────────────────────────────────────┤
│  图片上传  │  分析展示  │  历史记录          │
└──────────────────┬──────────────────────────┘
                   │
                   ▼
┌─────────────────────────────────────────────┐
│           Node.js 后端服务                   │
│    - 保护 API Key（不暴露给前端）            │
│    - 请求转发至豆包 API                      │
│    - 请求限流和安全防护                      │
└──────────────────┬──────────────────────────┘
                   │
                   ▼
┌─────────────────────────────────────────────┐
│         豆包大模型 API                       │
│      doubao-seed-1.6-thinking               │
└─────────────────────────────────────────────┘
```

---

## 4. 页面设计

### 4.1 页面流程
```
首页（介绍 + 开始按钮）
    │
    ▼
上传页（图片上传区域）
    │
    ▼
分析中（加载动画 + 进度提示）
    │
    ▼
结果页（分析报告展示）
```

### 4.2 页面详情

#### 4.2.1 首页
- 产品 Logo 和名称
- 简短的产品介绍
- "开始分析"按钮
- 隐私声明入口

#### 4.2.2 上传页
- 上传区域（支持拖拽）
- 已上传图片预览网格
- 上传数量提示（至少5张）
- "开始分析"按钮

#### 4.2.3 分析中页面
- 加载动画
- 分析进度提示文案
- 趣味等待提示

#### 4.2.4 结果页
- 人物画像卡片
- 性格特征雷达图
- 兴趣标签云
- 追求建议列表
- 开场白推荐
- "重新分析"按钮
- "分享结果"按钮

---

## 5. 非功能需求

### 5.1 性能要求
- 页面首屏加载时间 < 2s
- 图片上传响应时间 < 1s（单张）
- AI 分析响应时间 < 30s

### 5.2 兼容性
- 支持主流移动端浏览器（微信内置浏览器、Safari、Chrome）
- 支持 iOS 12+ 和 Android 8+
- 响应式设计，适配不同屏幕尺寸

### 5.3 安全与隐私
- 图片仅用于分析，不做服务器存储
- API Key 不暴露在前端（通过后端代理或环境变量）
- 添加隐私政策说明
- 用户数据本地存储，不上传云端

---

## 6. 已确认事项

| 问题 | 确认结果 |
|------|----------|
| 后端服务 | ✅ 需要 Node.js 后端保护 API Key |
| API 凭证 | ⏳ 尚未获取，需要申请 |
| 用户系统 | ❌ 不需要登录/注册 |
| 视觉风格 | ✅ 高级感（深色主题） |
| 产品名称 | ✅ MomentTrace 确认 |
| OCR 识别 | ✅ 需要支持识别朋友圈文字内容 |

### 6.1 API 凭证获取步骤
1. 访问 [火山引擎官网](https://www.volcengine.com/) 注册账号
2. 完成实名认证
3. 进入 [火山方舟控制台](https://console.volcengine.com/ark)
4. 创建推理接入点，选择 `doubao-seed-1.6-thinking` 模型
5. 获取 API Key 和推理接入点 ID
6. 将凭证配置到后端环境变量中

---

## 7. 参考资料

- [豆包大模型官网](https://www.volcengine.com/product/doubao)
- [doubao-seed-1.6-thinking 文档](https://www.volcengine.com/docs/82379/1593703)
- [火山方舟 API 快速入门](https://www.volcengine.com/docs/82379/1399008)
- [兼容 OpenAI SDK 文档](https://www.volcengine.com/docs/82379/1330626)

---

## 8. 版本记录

| 版本 | 日期 | 修改内容 | 作者 |
|------|------|----------|------|
| v1.0 | 2026-01-05 | 初始版本 | - |
| v1.1 | 2026-01-05 | 确认需求：后端保护 API Key、高级感视觉风格、无用户系统 | - |
| v1.2 | 2026-01-05 | 新增 OCR 识别朋友圈文字内容需求 | - |
